{"version":3,"sources":["workers/restaurantReviewsPreparation.js"],"names":["self","onmessage","message","reviews","data","ul","forEach","generateReviewHTML","review","postMessage","name","createDate","Date","createdAt","date","toDateString","head","rating","getRatingClassName","comments","editButton","id","deleteButton","li","rate","rateName"],"mappings":";;AACA;;AAEAA,KAAKC,SAAL,GAAiB,UAACC,OAAD,EAAW;AAC3B,KAAIC,UAAUD,QAAQE,IAAR,CAAaD,OAA3B;AACA,KAAIE,KAAK,OAAT;AACAF,SAAQG,OAAR,CAAgB,kBAAU;AACtBD,OAAKA,KAAKE,mBAAmBC,MAAnB,CAAV;AACH,EAFD;AAGAH,MAAKA,KAAK,QAAV;AACAI,aAAY,EAAC,MAAMJ,EAAP,EAAZ;AACA,CARD;;AAWA,IAAIE,qBAAqB,SAArBA,kBAAqB,CAACC,MAAD,EAAY;;AAGnC,KAAIE,gBAAcF,OAAOE,IAArB,UAAJ;;AAEA,KAAIC,aAAa,IAAIC,IAAJ,CAASJ,OAAOK,SAAhB,CAAjB;AACA,KAAIC,gBAAcH,WAAWI,YAAX,EAAd,UAAJ;;AAEA,KAAIC,mCAAiCN,IAAjC,GAAwCI,IAAxC,UAAJ;;AAEA,KAAIG,oCAAkCC,mBAAmBV,OAAOS,MAA1B,CAAlC,kBAAgFT,OAAOS,MAAvF,UAAJ;;AAGA,KAAIE,mBAAiBX,OAAOW,QAAxB,SAAJ;;AAEA,KAAIC,iFAA+EZ,OAAOa,EAAtF,wGAAJ;AACA,KAAIC,mFAAiFd,OAAOa,EAAxF,2GAAJ;;AAEA;;AAEA,KAAIE,0BAAwBf,OAAOa,EAA/B,UAAsCL,IAAtC,GAA6CC,MAA7C,GAAsDK,YAAtD,GAAqEF,UAArE,GAAkFD,QAAlF,WAAJ;AACA,QAAOI,EAAP;AACD,CAtBD;;AAwBA,IAAIL,qBAAqB,SAArBA,kBAAqB,CAACM,IAAD,EAAS;AACjC,KAAIC,WAAW,aAAf;AACA,KAAGD,QAAQ,CAAX,EAAa;AACZC,aAAW,OAAX;AACA,EAFD,MAEM,IAAGD,QAAQ,CAAX,EAAa;AAClBC,aAAW,OAAX;AACA,EAFK,MAEA,IAAGD,QAAQ,CAAX,EAAa;AAClBC,aAAW,OAAX;AACA,EAFK,MAEA,IAAGD,QAAQ,CAAX,EAAa;AAClBC,aAAW,OAAX;AACA,EAFK,MAEA,IAAGD,QAAQ,CAAX,EAAa;AAClBC,aAAW,OAAX;AACA,EAFK,MAEA,IAAGD,QAAQ,CAAX,EAAa;AAClBC,aAAW,OAAX;AACA;AACD,QAAOA,QAAP;AACA,CAhBD","file":"restaurantReviewsPreparation.js","sourcesContent":["\r\n// self.importScripts('../restaurant_info.js');\r\n\r\nself.onmessage = (message)=>{\r\n\tlet reviews = message.data.reviews;\r\n\tlet ul = '<div>';\r\n\treviews.forEach(review => {\r\n\t    ul = ul + generateReviewHTML(review);\r\n\t});\r\n\tul = ul + '</div>'\r\n\tpostMessage({'ul': ul});\r\n}\r\n\r\n\r\nvar generateReviewHTML = (review) => {\r\n  \r\n  \r\n  let name = `<p1>${review.name}</p1>`;\r\n\r\n  let createDate = new Date(review.createdAt);\r\n  let date = `<p2>${createDate.toDateString()}</p2>`;\r\n  \r\n  let head = `<h4 class=\"reviewHead\">${name}${date}</h4>`;\r\n\r\n  let rating = `<p3 class=\"reviewRate ${getRatingClassName(review.rating)}\">Rating: ${review.rating}</p3>`;\r\n\r\n\r\n  let comments = `<p>${review.comments}</p>`;\r\n  \r\n  let editButton = `<button class=\"reviewActionButton\" onclick=\"editExistingReview(${review.id})\" role=\"presentation\" aria-label=\"Edit Review\"><span class=\"fontawesome-edit\">Edit</span></button>`;\r\n  let deleteButton = `<button class=\"reviewActionButton\" onclick=\"deleteReviewAction(${review.id})\" role=\"presentation\" aria-label=\"Delete Review\"><span class=\"fontawesome-cut\">Delete</span></button>`;\r\n\r\n  // let editDiv = `<div class=\"reviewActionsDiv\" role=\"form\">${editButton}${deleteButton}</div>`;\r\n\r\n  let li = `<div id=\"review_${review.id}\">${head}${rating}${deleteButton}${editButton}${comments}</div>`;\r\n  return li;\r\n}\r\n\r\nvar getRatingClassName = (rate) =>{\r\n\tlet rateName = 'unknownRate';\r\n\tif(rate == 0){\r\n\t\trateName = 'rate0';\r\n\t}else if(rate == 1){\r\n\t\trateName = 'rate1';\r\n\t}else if(rate == 2){\r\n\t\trateName = 'rate2';\r\n\t}else if(rate == 3){\r\n\t\trateName = 'rate3';\r\n\t}else if(rate == 4){\r\n\t\trateName = 'rate4';\r\n\t}else if(rate == 5){\r\n\t\trateName = 'rate5';\r\n\t}\r\n\treturn rateName;\r\n}"]}