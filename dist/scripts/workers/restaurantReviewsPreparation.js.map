{"version":3,"sources":["workers/restaurantReviewsPreparation.js"],"names":["self","onmessage","message","reviews","data","ul","forEach","generateReviewHTML","review","postMessage","name","createDate","Date","createdAt","date","toDateString","head","rating","getRatingClassName","comments","li","rate","rateName"],"mappings":";;AACA;;AAEAA,KAAKC,SAAL,GAAiB,UAACC,OAAD,EAAW;AAC3B,KAAIC,UAAUD,QAAQE,IAAR,CAAaD,OAA3B;AACA,KAAIE,KAAK,OAAT;AACAF,SAAQG,OAAR,CAAgB,kBAAU;AACtBD,OAAKA,KAAKE,mBAAmBC,MAAnB,CAAV;AACH,EAFD;AAGAH,MAAKA,KAAK,QAAV;AACAI,aAAY,EAAC,MAAMJ,EAAP,EAAZ;AACA,CARD;;AAWA,IAAIE,qBAAqB,SAArBA,kBAAqB,CAACC,MAAD,EAAY;;AAGnC,KAAIE,gBAAcF,OAAOE,IAArB,UAAJ;;AAEA,KAAIC,aAAa,IAAIC,IAAJ,CAASJ,OAAOK,SAAhB,CAAjB;AACA,KAAIC,gBAAcH,WAAWI,YAAX,EAAd,UAAJ;;AAEA,KAAIC,mCAAiCN,IAAjC,GAAwCI,IAAxC,UAAJ;AACA;AACA;AACA;AACA;;AAEA,KAAIG,oCAAkCC,mBAAmBV,OAAOS,MAA1B,CAAlC,kBAAgFT,OAAOS,MAAvF,UAAJ;AACA;AACD;AACC;;AAEA,KAAIE,mBAAiBX,OAAOW,QAAxB,SAAJ;AACA;AACA;;;AAGA,KAAIC,eAAaJ,IAAb,GAAoBC,MAApB,GAA6BE,QAA7B,WAAJ;AACA,QAAOC,EAAP;AACD,CA1BD;;AA4BA,IAAIF,qBAAqB,SAArBA,kBAAqB,CAACG,IAAD,EAAS;AACjC,KAAIC,WAAW,aAAf;AACA,KAAGD,QAAQ,CAAX,EAAa;AACZC,aAAW,OAAX;AACA,EAFD,MAEM,IAAGD,QAAQ,CAAX,EAAa;AAClBC,aAAW,OAAX;AACA,EAFK,MAEA,IAAGD,QAAQ,CAAX,EAAa;AAClBC,aAAW,OAAX;AACA,EAFK,MAEA,IAAGD,QAAQ,CAAX,EAAa;AAClBC,aAAW,OAAX;AACA,EAFK,MAEA,IAAGD,QAAQ,CAAX,EAAa;AAClBC,aAAW,OAAX;AACA,EAFK,MAEA,IAAGD,QAAQ,CAAX,EAAa;AAClBC,aAAW,OAAX;AACA;AACD,QAAOA,QAAP;AACA,CAhBD","file":"restaurantReviewsPreparation.js","sourcesContent":["\r\n// self.importScripts('../restaurant_info.js');\r\n\r\nself.onmessage = (message)=>{\r\n\tlet reviews = message.data.reviews;\r\n\tlet ul = '<div>';\r\n\treviews.forEach(review => {\r\n\t    ul = ul + generateReviewHTML(review);\r\n\t});\r\n\tul = ul + '</div>'\r\n\tpostMessage({'ul': ul});\r\n}\r\n\r\n\r\nvar generateReviewHTML = (review) => {\r\n  \r\n  \r\n  let name = `<p1>${review.name}</p1>`;\r\n\r\n  let createDate = new Date(review.createdAt);\r\n  let date = `<p2>${createDate.toDateString()}</p2>`;\r\n  \r\n  let head = `<h4 class=\"reviewHead\">${name}${date}</h4>`;\r\n  // head.appendChild(name);\r\n  // head.appendChild(date);\r\n  // head.className = 'reviewHead';\r\n  // li.appendChild(head);\r\n\r\n  let rating = `<p3 class=\"reviewRate ${getRatingClassName(review.rating)}\">Rating: ${review.rating}</p3>`;\r\n  // rating.innerHTML = `Rating: ${review.rating}`; \r\n\t// rating.className = 'reviewRate ' + getRatingClassName(review.rating);\r\n  // li.appendChild(rating);\r\n\r\n  let comments = `<p>${review.comments}</p>`;\r\n  // comments.innerHTML = review.comments;\r\n  // li.appendChild(comments);\r\n\r\n\r\n  let li = `<div>${head}${rating}${comments}</div>`;\r\n  return li;\r\n}\r\n\r\nvar getRatingClassName = (rate) =>{\r\n\tlet rateName = 'unknownRate';\r\n\tif(rate == 0){\r\n\t\trateName = 'rate0';\r\n\t}else if(rate == 1){\r\n\t\trateName = 'rate1';\r\n\t}else if(rate == 2){\r\n\t\trateName = 'rate2';\r\n\t}else if(rate == 3){\r\n\t\trateName = 'rate3';\r\n\t}else if(rate == 4){\r\n\t\trateName = 'rate4';\r\n\t}else if(rate == 5){\r\n\t\trateName = 'rate5';\r\n\t}\r\n\treturn rateName;\r\n}"]}