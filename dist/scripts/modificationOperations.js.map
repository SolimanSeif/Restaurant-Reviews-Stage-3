{"version":3,"sources":["modificationOperations.js"],"names":["createNewRestaurantReview","info","successCallback","failCallback","fetch","method","body","headers","then","response","json","undefined","catch","error","console","log","favoriteRestaurant","restaurant_id","is_favorite","unfavoriteRestaurant","updateRestaurantReview","jsonInfo","JSON","parse","review_id","deleteReview","status"],"mappings":"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","file":"modificationOperations.js","sourcesContent":["\r\n\r\nvar createNewRestaurantReview = (info, successCallback, failCallback)=>{\r\n\tfetch('http://localhost:1337/reviews/', {\r\n  \t\tmethod: 'POST', \r\n\t\tbody: info,\r\n\t\theaders: {\r\n\t\t\t'content-type': 'application/json'\r\n\t\t}\r\n\t}).then((response)=>{\r\n\t\tif(response)\r\n\t\t\treturn response.json();\r\n\t\telse \r\n\t\t\treturn undefined;\r\n\t}).catch((error)=>{\r\n\t\tconsole.log('Failed during posting a review to server: ' + error);\r\n\t}).then((response)=>{\r\n\t\tif(response){ // completed successfully \r\n\t\t\tsuccessCallback(response);\r\n\t\t}else{\r\n\t\t\tif(failCallback){\r\n\t\t\t\tfailCallback(undefined);\t\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nvar favoriteRestaurant = (restaurant_id, is_favorite, successCallback, failCallback)=>{\r\n\tconsole.log(typeof is_favorite);\r\n\tfetch(`http://localhost:1337/restaurants/${restaurant_id}/?is_favorite=${is_favorite}`, {\r\n  \t\tmethod: 'PUT'\r\n\t}).then((response)=>{\r\n\t\tif(response)\r\n\t\t\treturn response.json();\r\n\t\telse \r\n\t\t\treturn undefined;\r\n\t}).catch((error)=>{\r\n\t\tconsole.log('Failed during marking a restaurant as favorite in server: ' + error);\r\n\t}).then((response)=>{\r\n\t\tif(response){ // completed successfully \r\n\t\t\tsuccessCallback(response);\r\n\t\t}else{\r\n\t\t\tif(failCallback){\r\n\t\t\t\tfailCallback(undefined);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\nvar unfavoriteRestaurant = (restaurant_id, successCallback, failCallback)=>{\r\n\tfetch(`http://localhost:1337/restaurants/${restaurant_id}/?is_favorite=false`, {\r\n  \t\tmethod: 'PUT'\r\n\t}).then((response)=>{\r\n\t\tif(response)\r\n\t\t\treturn response.json();\r\n\t\telse \r\n\t\t\treturn undefined;\r\n\t}).catch((error)=>{\r\n\t\tconsole.log('Failed during unfavorit a resturant : ' + error);\r\n\t}).then((response)=>{\r\n\t\tif(response){ // completed successfully \r\n\t\t\tsuccessCallback(response);\r\n\t\t}else{\r\n\t\t\tfailCallback(undefined);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\nvar updateRestaurantReview = (info, successCallback, failCallback)=>{\r\n\tlet jsonInfo = JSON.parse(info);\r\n\tfetch(`http://localhost:1337/reviews/${jsonInfo.review_id}`, {\r\n  \t\tmethod: 'PUT',\r\n  \t\tbody: info,\r\n\t\theaders: {\r\n\t\t\t'content-type': 'application/json'\r\n\t\t}\r\n\t}).then((response)=>{\r\n\t\tif(response)\r\n\t\t\treturn response.json();\r\n\t\telse \r\n\t\t\treturn undefined;\r\n\t}).catch((error)=>{\r\n\t\tconsole.log('Failed during updating a review to server: ' + error);\r\n\t}).then((response)=>{\r\n\t\tif(response){ // completed successfully \r\n\t\t\tsuccessCallback(response);\r\n\t\t}else{\r\n\t\t\tif(failCallback)\r\n\t\t\t\tfailCallback(undefined);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\nvar deleteReview = (review_id, successCallback, failCallback)=>{\r\n\tfetch(`http://localhost:1337/reviews/${review_id}`, {\r\n  \t\tmethod: 'DELETE'\r\n\t}).then((response)=>{\r\n\t\tif(response && response.status === 200)\r\n\t\t\treturn response.json();\r\n\t\telse \r\n\t\t\treturn undefined;\r\n\t}).catch((error)=>{\r\n\t\tconsole.log('Failed during deleting a review from server : ' + error);\r\n\t}).then((response)=>{\r\n\t\tif(response){ // completed successfully \r\n\t\t\tsuccessCallback(response);\r\n\t\t}else{\r\n\t\t\tif(failCallback){\r\n\t\t\t\tfailCallback(review_id);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}"]}